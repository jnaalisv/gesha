plugins {
    id 'org.springframework.boot' version '1.5.2.RELEASE'
    id "groovy"
}

repositories {
    jcenter()
}


ext {
    javaJwtVersion = "2.1.0"
}

// Spring Boot managed versions
ext['hikaricp.version'] = "2.6.1"
ext['hibernate.version'] = "5.2.8.Final"

dependencies {

    runtime (
            "ch.qos.logback:logback-classic",
            "org.codehaus.groovy:groovy",
            "org.slf4j:jcl-over-slf4j",
            "com.h2database:h2"
    )

    compile (
            "org.slf4j:slf4j-api",
            "com.fasterxml.jackson.core:jackson-databind",
            "org.springframework.boot:spring-boot-starter-tomcat",
            "org.springframework:spring-webmvc",
            "org.springframework.boot:spring-boot",
            "org.springframework.security:spring-security-config",
            "org.springframework.security:spring-security-web",
            "com.auth0:java-jwt:$javaJwtVersion",
            "commons-codec:commons-codec:1.4",
            "org.hibernate:hibernate-core",
            "org.springframework:spring-tx",
            "org.springframework:spring-orm",
            "com.zaxxer:HikariCP",
    )

    testCompile (
            "junit:junit",
            "org.assertj:assertj-core",
            "org.springframework:spring-test"
    )
}

configurations {
    compile.exclude group: "commons-logging"
}

wrapper {
    gradleVersion = "3.4.1"
}

sourceCompatibility = JavaVersion.VERSION_1_8
targetCompatibility = JavaVersion.VERSION_1_8

gradle.projectsEvaluated {
    tasks.withType(JavaCompile) {
        options.encoding = 'UTF-8'
        options.compilerArgs << "-Xlint:unchecked" << "-Xlint:deprecation"
    }
}
